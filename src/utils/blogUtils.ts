import { marked } from "marked";
import matter from "gray-matter";
import type { BlogPost, BlogPostMetadata } from "../types/blog";

// Calculate reading time based on word count (average 200 words per minute)
export function calculateReadingTime(content: string): number {
  const wordsPerMinute = 200;
  const words = content.trim().split(/\s+/).length;
  return Math.ceil(words / wordsPerMinute);
}

// Parse markdown content with frontmatter
export function parseMarkdownPost(
  markdownContent: string,
  slug: string
): BlogPost {
  const { data: frontmatter, content } = matter(markdownContent);

  // Parse markdown to HTML
  const htmlContent = marked(content) as string;

  const readingTime = calculateReadingTime(content);

  return {
    slug,
    title: frontmatter.title || "Untitled",
    description: frontmatter.description || "",
    content: htmlContent,
    publishedAt: frontmatter.publishedAt || new Date().toISOString(),
    updatedAt: frontmatter.updatedAt,
    thumbnail: frontmatter.thumbnail,
    author: {
      name: frontmatter.author?.name || "Vifa Digital",
      avatar: frontmatter.author?.avatar,
    },
    tags: frontmatter.tags || [],
    readingTime,
    seo: frontmatter.seo || {
      title: frontmatter.title,
      description: frontmatter.description,
      ogImage: frontmatter.thumbnail,
    },
  };
}

// Format date for display
export function formatDate(dateString: string): string {
  const date = new Date(dateString);
  return date.toLocaleDateString("ka-GE", {
    year: "numeric",
    month: "long",
    day: "numeric",
  });
}

// Generate excerpt from content
export function generateExcerpt(
  content: string,
  maxLength: number = 150
): string {
  // Remove HTML tags and get plain text
  const plainText = content.replace(/<[^>]*>/g, "");

  if (plainText.length <= maxLength) {
    return plainText;
  }

  return plainText.substring(0, maxLength).trim() + "...";
}

// Blog posts data - will be populated with real content
export const blogPosts: BlogPost[] = [
  {
    slug: "biznesis-cifruli-transformacia",
    title: "ბიზნესის ციფრული ტრანსფორმაცია – თანამედროვე სამყაროს გამოწვევა",
    description:
      "დღევანდელ სწრაფად ცვალებად ბიზნეს-სივრცეში, ციფრული ტრანსფორმაცია აღარ არის მხოლოდ ტექნოლოგიური სიახლე – ეს აუცილებელი სტრატეგიაა.",
    content: `
      <p class="lead">დღევანდელ, სწრაფად ცვალებად ბიზნეს გარემოში, ციფრული ტრანსფორმაცია აღარ წარმოადგენს მხოლოდ ტექნოლოგიურ ინოვაციას – ეს აუცილებელი სტრატეგიული ნაბიჯია. მომხმარებლები უმეტესად ონლაინ სივრცეში ეძებენ ინფორმაციას, აკეთებენ შედარებებს და იღებენ გადაწყვეტილებებს, ამიტომ კომპანიები რომლებიც არ არიან ციფრულ სივრცეში, უპირატესობას მარტივად კარგავენ კონკურენციის პირობებში.</p>

      <h2>რას გულისხმობს ციფრული ტრანსფორმაცია?</h2>

      <p>ციფრული ტრანსფორმაცია არის პროცესი, რომელიც მოიცავს ციფრული ტექნოლოგიების გამოყენებას ბიზნესის ყველა ასპექტში, როგორც პროდუქტის ან სერვისის მიწოდებაში, ასევე მომხმარებელთან კომუნიკაციასა და შიდა ოპერაციებში. ეს პროცესი მოიცავს როგორც ტექნოლოგიურ სიახლეებს, ისე ორგანიზაციული კულტურისა და სამუშაო პროცესების გარდაქმნას, რათა მომხმარებლამდე მივიდეს მაქსიმალური შედეგი და ღირებულება.</p>

      <h2>რატომ არის აუცილებელი?</h2>

      <h3>მომხმარებელთან ეფექტური კომუნიკაცია</h3>

      <p>ციფრული პლატფორმები და AI ტექნოლოგიები საშუალებას აძლევს კომპანიებს სწრაფად და პერსონალიზებულად დაუკავშირდნენ მომხმარებელს. მაგალითად, AI ჩატბოტები 24/7 პასუხობენ კითხვებს და აფართოებენ მხარდაჭერის შესაძლებლობებს, რაც ზრდის მომხმარებელტა ნდობასა და ინტერესს.</p>

      <h3>ოპერაციული ეფექტურობა</h3>

      <p>მონაცემთა ანალიზი, ავტომატიზაცია და თანამედროვე ინსტრუმენტები აუმჯობესებს სამუშაო პროცესებს, ამცირებს ხარჯებს და ზრდის ეფექტურობას. კომპანიები უკეთ აღიქვამენ ხარვეზებს და მარტივად რეაგირებენ მასზე.</p>

      <h3>ინოვაცია და კონკურენტუნარიანობა</h3>

      <p>ციფრული ტრანსფორმაცია საშუალებას აძლევს კომპანიებს შექმნან ახალი პროდუქტები და სერვისები, რაც ზრდის კონკურენტულ უპირატესობას და მომხმარებლის ჩართულობას.</p>

      <h2>AI და თანამედროვე ტექნოლოგიები</h2>

      <p>ხელოვნური ინტელექტი უკვე მნიშვნელოვან როლს თამაშობს ციფრულ ტრანსფორმაციაში. AI ჩატბოტები, ავტომატური სისტემები და მონაცემთა ანალიზის ინსტრუმენტები ბიზნესს ეხმარება მომხმარებლის საჭიროებების სწრაფად გაგებაში, პერსონალიზებულ მომსახურებაში და პროცესების გამარტივებაში. თანამედროვე ტექნოლოგიები კომპანიებს აძლევს საშუალებას უფრო ეფექტურად მოემსახურონ მომხმარებელს და სწრაფად უპასუხონ ბაზრის ცვლილებებს.</p>

      <h2>დასკვნა</h2>

      <p>ციფრული ტრანსფორმაცია აღარ არის მხოლოდ შესაძლებლობა – ეს არის სტანდარტი, რომელიც განსაზღვრავს თანამედროვე ბიზნესის წარმატებას. კომპანიები, რომლებიც ადაპტირდებიან ციფრულ სამყაროსთან, ზრდიან მომხმარებელთა ნდობას, ოპერაციულ ეფექტურობას და ინოვაციურ შესაძლებლობებს. AI და თანამედროვე პლატფორმები შექმნიან პირობებს, სადაც ეფექტური კომუნიკაცია, სწრაფი გადაწყვეტილებები და ინოვაცია ერთმანეთს ავსებს, უზრუნველყოფენ კომპანიის მდგრად განვითარებას და კონკურენტუნარიანობას.</p>
    `,
    publishedAt: "2025-01-16T10:00:00Z",
    thumbnail: "/statia-1.jpg",
    author: {
      name: "Vifa Digital Team",
      avatar: "/images/team/vifa-team.jpg",
    },
    tags: [
      "ციფრული ტრანსფორმაცია",
      "ბიზნეს სტრატეგია",
      "AI",
      "მოდერნიზაცია",
      "ტექნოლოგია",
    ],
    readingTime: 4,
    seo: {
      title:
        "ბიზნესის ციფრული ტრანსფორმაცია – თანამედროვე სამყაროში აუცილებლობა",
      description:
        "ციფრული ტრანსფორმაცია აღარ არის არჩევანი, არამედ აუცილებლობა. შეიტყვეთ როგორ შეცვალოთ თქვენი ბიზნეს AI ტექნოლოგიებისა და ციფრული სტრატეგიების საშუალებით.",
      ogImage: "/statia-1.jpg",
    },
  },
  {
    slug: "ai-biznesshi-strategiuli-innovaciebi",
    title: "ხელოვნური ინტელექტი ბიზნესში - თანამედროვე სტრატეგიული ინოვაციები",
    description:
      "AI აღარ არის მხოლოდ ფუტურისტული კონცეფცია, არამედ პრაქტიკული ინსტრუმენტი, რომელიც ფუნდამენტურად ცვლის კომპანიების ოპერაციულ მოდელებს.",
    content: `
      <p class="lead">თანამედროვე ბიზნეს გარემოში ხელოვნური ინტელექტი (AI) აღარ წარმოადგენს მხოლოდ ფუტურისტულ კონცეფციას, არამედ გახდა პრაქტიკული ინსტრუმენტი, რომელიც ფუნდამენტურად ცვლის კომპანიების ოპერაციულ მოდელებს, ზრდის ეფექტურობას და აუმჯობესებს მომხმარებელთან ურთიერთობას.</p>

      <p>წამყვანი გლობალური კომპანიები, როგორიცაა Google და Amazon, სისტემატურად იყენებენ AI-ს ყოველდღიურ პროცესებში, რაც მათ მნიშვნელოვან კონკურენტულ უპირატესობას ანიჭებს. საქართველოს ბაზარზე, სადაც ციფრული ტრანსფორმაცია სწრაფი ტემპებით მიმდინარეობს, AI-ის დანერგვა ლოკალურ ბიზნესებს მნიშვნელოვნად დაეხმარება გლობალურ სტანდარტებთან ადაპტაციაში და კონკურენტუნარიანობის გაძლიერებაში.</p>

      <h2>AI-ის განმარტება ბიზნეს კონტექსტში</h2>

      <p>ხელოვნური ინტელექტი წარმოადგენს ტექნოლოგიების კომპლექსურ ერთობლიობას, რომელიც "მანქანებს" საშუალებას აძლევს შეასრულონ ამოცანები ადამიანური ინტელექტის მსგავსად. ბიზნესში ეს მოიცავს მანქანურ სწავლებას (Machine Learning), ბუნებრივი ენის დამუშავებას (NLP) და ავტომატიზებულ სისტემებს.</p>

      <p>AI-ს შეუძლია დიდი მოცულობის მონაცემების სწრაფი ანალიზი, ბაზრის ტენდენციების პროგნოზირება და რუტინული პროცესების ავტომატიზაცია. ეს ათავისუფლებს ადამიანურ რესურსებს უფრო სტრატეგიული და კრეატიული ამოცანებისთვის, რაც ხელს უწყობს კომპანიის გრძელვადიან ზრდას.</p>

      <h2>AI-ის ძირითადი გამოყენებები ბიზნესში</h2>

      <p>AI-ის ადაპტაცია შესაძლებელია სხვადასხვა ინდუსტრიაში, საცალო ვაჭრობიდან დაწყებული მაღალტექნოლოგიური სერვისებით დამთავრებული.</p>

      <h3>მომხმარებელთა მომსახურება და კომუნიკაცია</h3>

      <p>AI-ზე დაფუძნებული ჩატბოტები და ვირტუალური ასისტენტები რევოლუციურად ცვლიან მომხმარებელთან ურთიერთობას. ისინი უზრუნველყოფენ 24/7 მხარდაჭერას, პასუხობენ შეკითხვებს, იღებენ შეკვეთებს და წყვეტენ პრობლემებს რეალურ დროში. სოციალურ პლატფორმებზე როგორიცაა (Facebook, Instagram და WhatsApp) ჩატბოტები წარმართავენ  პერსონალიზებულ და ინტელექტუალურ საუბარს მომხარებელთან, რაც მნიშვნელოვნად ზრდის ინტერესსა და მომხმარებელთა კმაყოფილებას კომპანიის მიმართ.</p>

      <p><strong>ფაქტი:</strong> Gartner-ის პროგნოზის მიხედვით, 2025 წლისთვის ბიზნესების 80%-ზე მეტი გამოიყენებს AI-ზე დაფუძნებულ ჩატბოტებსა და ვირტუალურ ასისტენტებს მომხმარებელთა მომსახურებისთვის, რაც საოპერაციო ხარჯებს საშუალოდ 30%-ით შეამცირებს (წყარო: <a href="https://www.gartner.com/en/newsroom/press-releases/2025-03-05-gartner-predicts-agentic-ai-will-autonomously-resolve-80-percent-of-common-customer-service-issues-without-human-intervention-by-20290" target="_blank" rel="noopener noreferrer">Gartner: Agentic AI in Customer Service</a>). ეს განსაკუთრებით სასარგებლოა მცირე და საშუალო ბიზნესებისთვის, რადგან მათ შეუძლიათ მინიმალური ინვესტიციით უზრუნველყონ სწრაფი, 24/7 მხარდაჭერა, გაზარდონ მომხმარებელთა კმაყოფილება და თანამშრომლების დრო გაათავისუფლონ უფრო სტრატეგიული და კრეატიული ამოცანებისთვის.</p>

      <h3>მონაცემთა ანალიზი და პროგნოზირება</h3>

      <p>ხელოვნური ინტელექტი ეფექტურად აგროვებს, ამუშავებს და აანალიზებს უზარმაზარ მონაცემებს გაყიდვების, მომხმარებელთა ქცევისა და ბაზრის ტენდენციების შესახებ. ეს საშუალებას აძლევს ბიზნესებს ზუსტად იწინასწარმეტყველონ მომავალი ტენდენციები, გამოთვალონ მოთხოვნის პიკური პერიოდები და მიიღონ მონაცემებზე დაფუძნებული გადაწყვეტილებები, რაც ზრდის ეფექტურობას, ამცირებს ხარჯებს და ხელს უწყობს კონკურენტულ უპირატესობას.</p>

    <p><strong>მაგალითად,</strong> Netflix იყენებს ხელოვნურ ინტელექტს პერსონალიზებული რეკომენდაციებისთვის, რომელიც ანალიზს უკეთებს მომხმარებელთა ინტერესებს და ქცევის თავისებურებებს. McKinsey-ის კვლევის მიხედვით, პლატფორმაზე ნანახი კონტენტის 75% სწორედ AI-ის მიერ გენერირებული რეკომენდაციებიდან მოდის, რაც Netflix-ს წელიწადში 1 მილიარდ დოლარზე მეტს აზოგინებს მომხმარებელთა შენარჩუნების ხარჯებში (წყარო: <a href="https://www.mckinsey.com/capabilities/quantumblack/our-insights/ai-powered-streaming-how-artificial-intelligence-is-revolutionizing-media-and-entertainment" target="_blank" rel="noopener noreferrer">McKinsey: AI-Powered Streaming</a>).</p>

      

      
      <h2>როგორ დაიწყოთ AI-ის დანერგვა თქვენს ბიზნესში?</h2>

      <h3>საჭიროებების შეფასება</h3>
      <p>გაანალიზეთ, სად არის ავტომატიზაციის საჭიროება ყველაზე მეტად. თუ პრიორიტეტი მომხმარებელთან კომუნიკაციაა, დაიწყეთ ჩატბოტებით სოციალურ მედიაში.</p>

      <h3>ინსტრუმენტების შერჩევა</h3>
      <p>გამოიყენეთ პლატფორმები, როგორიცაა ChatGPT, Dialogflow, Google Gemini ან სხვა სპეციალიზებული სერვისები, რომლებიც ინტეგრირდება Facebook-თან და Instagram-თან. Gemini-ის უპირატესობა ქართულ ენაზე მომუშავე ბიზნესებისთვის განსაკუთრებით მნიშვნელოვანია, რადგან ის მხარს უჭერს 100-ზე მეტ ენას, მათ შორის ქართულს, რაც უზრუნველყოფს ბუნებრივ და ზუსტ კომუნიკაციას მომხმარებლებთან მშობლიურ ენაზე.</p>

     <h3>ტესტირება და განვითარება</h3>
<p>დაიწყეთ მცირე მასშტაბის პილოტური პროექტით, მაგალითად, AI-ჩატბოტის დანერგვით ერთ სოციალურ პლატფორმაზე. გაზომეთ ინვესტიციის დაბრუნება (ROI) ისეთი მეტრიკებით, როგორიცაა მომხმარებელთა კმაყოფილების ზრდა, ხარჯების შემცირება ან გაყიდვების მაჩვენებელი. წარმატების შემთხვევაში, გააფართოვეთ AI-ის გამოყენება სხვა პროცესებზე, მაგალითად, მარკეტინგულ კამპანიებზე ან მონაცემთა ანალიზზე.</p>

<h3>თანამშრომლობა ექსპერტებთან</h3>
<p>თუ თქვენს გუნდს არ გააჩნია AI-ის დანერგვისთვის საჭირო გამოცდილება, განიხილეთ თანამშრომლობა სპეციალიზებულ კონსულტანტებთან ან ტექნოლოგიურ პარტნიორებთან. ისინი დაგეხმარებიან AI გადაწყვეტილებების უსაფრთხოდ ინტეგრირებაში, მონაცემთა დაცვის სტანდარტების (მაგ. GDPR) დაცვაში და თქვენი გუნდის მომზადებაში, რათა მაქსიმალურად გამოიყენოთ AI-ის შესაძლებლობები.</p>

      <h2>დასკვნა</h2>
<p>ხელოვნური ინტელექტი (AI) თანამედროვე ბიზნესის გარდაქმნის გასაღებია, რომელიც არა მხოლოდ ზრდის ოპერაციულ ეფექტურობას და ამცირებს ხარჯებს, არამედ აჩენს ახალ შესაძლებლობებს მომხმარებელთა ჩართულობისა და ინოვაციებისთვის. AI-ზე დაფუძნებული ჩატბოტებით, მონაცემთა ანალიზით თუ პერსონალიზებული მარკეტინგით, თქვენი ბიზნესი შეძლებს მოიპოვოს რეალური უპირატესობა ბაზარზე, განსაკუთრებით სოციალური მედიის და ტექნოლოგიების სწრაფად მზარდ სამყაროში. თუ თქვენი ბიზნესი ჯერ არ იყენებს AI-ს, დროა, გადადგათ პირველი ნაბიჯი, ეს არა მხოლოდ ტენდენცია, არამედ აუცილებელი ინსტრუმენტია თქვენი ბიზნესის მდგრადი ზრდისა და გლობალური ბაზრის მოთხოვნებთან ადაპტაციისთვის.</p>
    `,
    publishedAt: "2025-10-17T12:00:00Z",
    thumbnail: "/statia-2.jpg",
    author: {
      name: "Vifa Digital Team",
      avatar: "/images/team/vifa-team.jpg",
    },
    tags: [
      "ხელოვნური ინტელექტი",
      "AI",
      "ბიზნეს სტრატეგია",
      "ციფრული მარკეტინგი",
      "ტექნოლოგია",
    ],
    readingTime: 7,
    seo: {
      title: "ხელოვნური ინტელექტი ბიზნესში - AI სტრატეგიული ინოვაციები",
      description:
        "ხელოვნური ინტელექტი (AI) აღარ არის მხოლოდ ფუტურისტული კონცეფცია. შეიტყვეთ როგორ ინტეგრირება AI-ს ბიზნესში ეფექტურობისა და კონკურენტუნარიანობის გასაძლიერებლად.",
      ogImage: "/statia-2.jpg",
    },
  },
];

// Get all blog posts
export async function getAllBlogPosts(): Promise<BlogPostMetadata[]> {
  // Return blog posts sorted by date (newest first)
  return blogPosts
    .map((post) => ({
      slug: post.slug,
      title: post.title,
      description: post.description,
      publishedAt: post.publishedAt,
      updatedAt: post.updatedAt,
      thumbnail: post.thumbnail,
      author: post.author,
      tags: post.tags,
      readingTime: post.readingTime,
      seo: post.seo,
    }))
    .sort(
      (a, b) =>
        new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime()
    );
}

// Get a single blog post by slug
export async function getBlogPostBySlug(
  slug: string
): Promise<BlogPost | null> {
  // Find the blog post by slug
  const post = blogPosts.find((p) => p.slug === slug);

  if (!post) {
    return null;
  }

  // Return the full blog post
  return post;
}
